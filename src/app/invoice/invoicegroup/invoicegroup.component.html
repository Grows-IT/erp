<mat-spinner *ngIf="!invoice"></mat-spinner>
<div *ngIf="invoice">
  <mat-toolbar class="allbg">
    <span style="color: white;">Invoice : {{decode(invoice.id, invoice.count)}}</span>
    <span class="space"></span>
    <button mat-button mat-dialog-close tabindex="-1" style="color: white;">
      <i class="material-icons"> close </i>
    </button>
  </mat-toolbar>
</div>
<div *ngIf="invoice" class="content">
  <h2>
    Name : {{ getCustomer(invoice.customerId).name }} ,
    Address : {{ getCustomer(invoice.customerId).address }}
  </h2>
  <div>
    <div [formGroup]="addGroup" align="center">
      <mat-form-field appearance="outline">
        <mat-label>Group Name : </mat-label>
        <input matInput formControlName="name" required />
      </mat-form-field>
      <button mat-raised-button color="primary" class="content" [disabled]="addGroup.invalid"
        (click)="addGroupName(addGroup)">add</button>
    </div>
  </div>
</div>

<mat-list class="content" *ngFor="let item of invoice.group;let i = index">
  <!-- if active -->
  <mat-card *ngIf="item.status === 'active'">
    <button mat-button (click)="onClickOpenDetail(invoice, i)">
      <b class="statusActive">●</b> Group Name : {{item.name}}
    </button>
    <button mat-icon-button [matMenuTriggerFor]="more" aria-label="" style="float: right;">
      <mat-icon>more_vert</mat-icon>
    </button>
  </mat-card>
  <!-- end if active -->

  <!-- if group name not active -->
  <mat-card *ngIf="item.status !== 'active'">
    <button mat-button (click)="onClickOpenDetail(invoice, i)" disabled>
      <b class="statusCancel">●</b> Group Name : {{item.name}}
    </button>
    <button mat-icon-button [matMenuTriggerFor]="more" aria-label="" style="float: right;" disabled>
      <mat-icon>more_vert</mat-icon>
    </button>
  </mat-card>
  <!-- end if group name not active -->

  <mat-menu #more>
    <button mat-menu-item (click)="deleteGroupName(invoice.id, i)">Delete</button>
    <button mat-menu-item (click)="editGroupName(invoice.id, i)">Edit group name</button>
  </mat-menu>
</mat-list>
